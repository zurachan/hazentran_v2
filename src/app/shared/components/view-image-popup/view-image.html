<div class="project-modal-container fixed z-70 flex items-center justify-center inset-0 bg-black"
  [ngClass]="isClosing ? 'animate-fadeOutBg': 'animate-fadeInBg'">
  <button class="absolute cursor-pointer z-80 top-[16px] right-[16px]" (click)="onClose()">
    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" fill="none">
      <path opacity="0.5"
        d="M15 27.5C21.9036 27.5 27.5 21.9036 27.5 15C27.5 8.09644 21.9036 2.5 15 2.5C8.09644 2.5 2.5 8.09644 2.5 15C2.5 21.9036 8.09644 27.5 15 27.5Z"
        fill="#BDBDBD" />
      <path
        d="M16.325 14.9992L19.2 12.1242C19.5625 11.7617 19.5625 11.1617 19.2 10.7992C18.8375 10.4367 18.2375 10.4367 17.875 10.7992L15 13.6742L12.125 10.7992C11.7625 10.4367 11.1625 10.4367 10.8 10.7992C10.4375 11.1617 10.4375 11.7617 10.8 12.1242L13.675 14.9992L10.8 17.8742C10.4375 18.2367 10.4375 18.8367 10.8 19.1992C10.9875 19.3867 11.225 19.4742 11.4625 19.4742C11.7 19.4742 11.9375 19.3867 12.125 19.1992L15 16.3242L17.875 19.1992C18.0625 19.3867 18.3 19.4742 18.5375 19.4742C18.775 19.4742 19.0125 19.3867 19.2 19.1992C19.5625 18.8367 19.5625 18.2367 19.2 17.8742L16.325 14.9992Z"
        fill="white" />
    </svg>
  </button>
  <div class="w-full h-full flex justify-between items-center">
    <!-- Nút Prev -->
    <div>
      <button *ngIf="hasGallery() && currentIndex > 0" (click)="prevImage()"
        class="absolute z-80 left-4 top-1/2 -translate-y-1/2 px-2 rounded-full cursor-pointer">
        <svg class="w-[30px] h-[30px]" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path opacity="0.5"
            d="M15 27.5C21.9036 27.5 27.5 21.9036 27.5 15C27.5 8.09644 21.9036 2.5 15 2.5C8.09644 2.5 2.5 8.09644 2.5 15C2.5 21.9036 8.09644 27.5 15 27.5Z"
            fill="#BDBDBD" />
          <path d="M15 20 L11 15 C10.5 14.5 10.5 13.5 11 13 L15 8" stroke="white" stroke-linecap="round"
            stroke-linejoin="round" />
        </svg>
      </button>
    </div>
    <div
      class="w-full h-full overflow-auto md:max-w-[1025px]! lg:max-w-[1280px]! shadow-lg transform transition-all duration-300 project-modal flex items-center"
      [ngClass]="isClosing ? 'animate-scaleDown': 'animate-scaleUp'">
      <!-- Ảnh -->
      <img [src]="currentImage.originUrl"
        class="max-h-full w-auto mx-auto my-auto block transition-transform select-none"
        [class.cursor-zoom-in]="zoomLevel < maxZoom"
        [class.cursor-zoom-out]="zoomLevel >= maxZoom && zoomLevel > minZoom"
        [style.transform]="'scale(' + zoomLevel + ')'" [style.transform-origin]="transformOrigin"
        (contextmenu)="onZoomOut($event)" (click)="zoomLevel < maxZoom ? onZoomIn($event) : onZoomOut($event)" />
    </div>
    <!-- Nút Next -->
    <div>
      <button *ngIf="hasGallery() && currentIndex < imagesLength - 1" (click)="nextImage()"
        class="absolute z-80 right-4 top-1/2 -translate-y-1/2 px-2 rounded-full cursor-pointer">
        <svg class="w-[30px] h-[30px]" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path opacity="0.5"
            d="M15 27.5C21.9036 27.5 27.5 21.9036 27.5 15C27.5 8.09644 21.9036 2.5 15 2.5C8.09644 2.5 2.5 8.09644 2.5 15C2.5 21.9036 8.09644 27.5 15 27.5Z"
            fill="#BDBDBD" />
          <g transform="scale(-1,1) translate(-30,0)">
            <path d="M15 20 L11 15 C10.5 14.5 10.5 13.5 11 13 L15 8" stroke="white" stroke-linecap="round"
              stroke-linejoin="round" />
          </g>
        </svg>
      </button>
    </div>
  </div>
</div>